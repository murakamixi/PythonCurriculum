## 概要
今回は、動作は変えずに、辞書というものを使って、情報をまとめられるように書き換えます。

# この章の目標

**推定完了時間: 30分**

**1. 辞書の使い方を覚えよう**

　変数だけで情報を書く場合、情報が増え、保持しなければならない情報が増えれば増えるほど変数を用意しなくてはいけません。そのようなときに使うのが辞書オブジェクトです。
　この章では辞書オブジェクトの使い方を学びましょう。

# ③辞書で情報の整理をしよう

　**辞書**は複数の情報を扱うことができます。辞書を使ってレビューの情報をより簡単に扱いましょう。

### このステップでできること

- 辞書を作れるようになる
- 辞書から情報を取得できるようになる
- 辞書に情報を追加できるようになる

## 現時点での問題を確認しよう

　ユーザーの入力に応じてレビューを表示する機能を実装できました。ですが、まだまだこのプログラムは問題を抱えており、ゴールには遠い状態です。
　では、どのような問題なのでしょうか？

### 変数が増えてしまう問題

　これまでのプログラムでは、ジャンル、タイトル、感想をそれぞれ別の変数として扱っていました。しかし、レビューを複数扱おうとした場合どうなるのでしょうか？
　例えば、二つのレビューを保存するプログラムを変数を使って書いてみましょう。

```python
genre1 = 'ジャンル１'
title1 = 'タイトル１'
review1 = '感想１'

genre2 = 'ジャンル2'
title2 = 'タイトル2'
review2 = '感想2'

line = "---------------------------"

# レビューの描画
print("ジャンル : {genre}\n{line}".format(genre=genre1, line=line))
print("タイトル : {title}\n{line}".format(title=title1, line=line))
print("感想 :\n{review}\n{line}".format(review=review1, line=line))

print("ジャンル : {genre}\n{line}".format(genre=genre2, line=line))
print("タイトル : {title}\n{line}".format(title=title2, line=line))
print("感想 :\n{review}\n{line}".format(review=review2, line=line))
```

　このプログラムになります。同じように変数が増えていきます。さらにレビューに登録したい項目が増えたら、**どんどん変数が多くなって**プログラムは見づらくなります。

## 辞書を学ぼう

　同じようなデータのセットを増やす中で、変数が増えてしまい、管理が難しくなって来た時に便利なものが、**辞書オブジェクト**です。

### 辞書オブジェクト

　辞書オブジェクトは自身の中に、**データ（Value）と対応するキー（Key）**のセットを保持することができます。
　すなわち、辞書オブジェクトは**複数のデータを保持できる**ということです。
　今回は、この辞書オブジェクトを使ってレビューのまとまりを作っていきましょう。
　辞書のメリットは後から実感してもらいますので、とりあえず使い方を覚えましょう。

### 辞書を使う
　まずは、辞書の生成方法です。

```python
辞書名 = {"Key" : "Value", ・・・}
```

上記の方法で、辞書を生成することができます。辞書名は変数名と同様に任意の名前をつけることができます。また、何もキーとデータを書かなければ空の辞書が作成されます。

###### <font color='red'>コードブロックを追加し、辞書を生成するプログラムを書き、実行しましょう</font>

```python
x = {'a':10, 'b':20, 'c':30, 1:'テキスト'}
print(x)
```

　辞書を作ることができたでしょうか？それでは、辞書から特定の値を取得するためにはどうしたらよいでしょうか？

### 辞書から値を取得する

　では、辞書の持っている値を取得してみよう。取得の際に使うのがその値に対応しているキーです。以下のような書き方で辞書からキーに対応する値を取得することができます。

```python
辞書名[キー名]
```

では、実際に先ほどの例のプログラムから値を取得してみましょう。


###### <font color='red'>先ほどのプログラムを変更し、辞書から値を取得する以下のプログラムを書き、実行しましょう</font>

```python
x = {'a':10, 'b':20, 'c':30, 1:'テキスト'}
print(x)

print(x['a'])
print(x[1])

#出力結果
#10
#テキスト
```

　では、辞書の値の変更や追加はどのように扱うのでしょうか？

###辞書に値を追加する
　辞書の生成後いつでも辞書に値を追加することもできます。追加する際は以下のように書きます。

```python
辞書名[新しいキー] =　追加する値
辞書名[既存のキー] =　再代入する値
```
　**すでに値が入っているキーを指定すると値が上書きされます**。辞書xに好きな値を追加しましょう。

###### <font color='red'>先ほどのプログラムを変更し、実行しましょう</font>
 
```python
x = {'a':10, 'b':20, 'c':30, 1:'テキスト'}
print(x)

x['d'] = 40
print(x)
#出力結果
#{'a':10, 'b':20, 'c':30, 1:'テキスト'}
#{'a':10, 'b':20, 'c':30, 1:'テキスト', 'd':40}
```

## 辞書でレビュー情報をまとめよう
　辞書を使ってレビューの内容をまとめます。簡単に振り返りをしてから取り組みましょう。
　まず、レビューの投稿を表す変数を辞書オブジェクトpostを生成します。

```python
# レビューの投稿を表す変数を定義
post = {}
```

また、今まで変数としていた「genre」、「title」、「review」をそれぞれ辞書オブジェクトpostのキーとします。

```python
post['genre'] = # ジャンルの入力
post['title'] = # タイトルの入力
post['review'] = # 感想の入力
```

　これで3つあった変数をpostという１つにすることができました。

```python
# 空の辞書を宣言
post = {}

# 要素の追加
post['genre'] = 'アニメ'
post['title'] = '呪術廻戦'
post['review'] = '五条悟めっちゃイケメン'
print(post) 
#出力結果
{'genre': 'アニメ', 'title': '呪術廻戦', 'review': '五条悟めっちゃイケメン'}
```

また、これは以下のように取得することができます。

```python
print(post['genre']) #アニメ
print(post['title']) #呪術廻戦
print(post['review'])#五条悟めっちゃイケメン
```

　これを踏まえて、レビューアプリで辞書を使ったコードに書き換えましょう。

#### <font color='blue'>レビューの情報である「ジャンル、タイトル、感想」を辞書postを使ってまとめましょう</font>

##### [演習解答](/answer/8/)

## ③完成コード

```python
post = {}
print("ジャンルを入力してください：")
post['genre'] = input()
print("タイトルを入力してください：")
post['title'] = input()
print("感想を入力してください：")
post['review'] = input()
line = "---------------------------"

# レビューの描画
print("ジャンル : {genre}\n{line}".format(genre=post['genre'], line=line))
print("タイトル : {title}\n{line}".format(title=post['title'], line=line))
print("感想 :\n{review}\n{line}".format(review=post['review'], line=line))
```

　今の段階では辞書を使う利点があまり感じられないかもしれませんが、後で複数のレビューを扱うことになった際、飛躍的に楽になります。

### 処理の流れ
- 1行目から9行目

```python
post = {}
print("ジャンルを入力してください：")
post['genre'] = input()
print("タイトルを入力してください：")
post['title'] = input()
print("感想を入力してください：")
post['review'] = input()
line = "---------------------------"
```

 今まで複数の変数(genre, title, review)にレビューの情報を入れていましたが、今回は辞書を使って1つの変数で複数の値を管理します。
　辞書は**キー**と**バリュー**で値を管理します。
 　　ジャンルはgenre、
 　　タイトルはtitle、
 　　感想はreview
というキーに値を入れます。


- 12行目から14行目

```python
print("ジャンル : {genre}\n{line}".format(genre=post['genre'], line=line))
print("タイトル : {title}\n{line}".format(title=post['title'], line=line))
print("感想 :\n{review}\n{line}".format(review=post['review'], line=line))
```
　値を変数から取り出すのではなく、**辞書postからキーを用いて値を取り出す**ように変更しています。

このようなコードが書けたら④へ進みましょう。

# まとめ

今回は、辞書オブジェクトの使い方を学習しました。
この辞書オブジェクトの導入で、複数のレビューを扱う土台ができました。また、データ構造はいくつもありますが辞書は任意の名前でデータを取り出せ、後から追加変更が可能という点が特徴です。
辞書オブジェクトは汎用性が広いため、自作アプリを作る際にも使えないかどうか検討してみましょう。